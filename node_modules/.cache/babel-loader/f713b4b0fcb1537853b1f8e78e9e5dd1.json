{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/GitHub/ourViewSeoul/src/App/SeoulMap.js\";\nimport React, { PureComponent } from 'react';\nimport Map from './_Map.jsx';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport styled from 'styled-components';\nimport Window from './Window';\nimport IknowButton from './IknowButton';\nimport Output from './Output';\nimport { csv } from 'd3';\nimport csvCor from '../data/seoul.csv';\nimport { Route, withRouter } from 'react-router-dom';\nconst SvgContainer = styled.div`\n    display: inline-block;\n    position: relative;\n    width: 50vw;\n    height: 50vh;\n    margin-top: 10vh;\n    margin-bottom: 40vh;\n\n    @media all and (min-width:0px) and (max-width:1023px) {\n        display: inline-block;\n        position: relative;\n        width: 100vw;\n        height: 50vh;\n        margin-top: 20vh;\n        margin-bottom: 30vh;\n        max-width:100%;\n    }\n`;\n\nclass SeoulMap extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      imgShow: false,\n      wheelValue: 2,\n      station: ':station'\n    };\n    this._updateDimensions = this._updateDimensions.bind(this);\n  }\n\n  componentDidMount() {\n    csv(csvCor).then(data => {\n      this.setState({\n        data\n      });\n    });\n\n    this._updateDimensions();\n\n    window.addEventListener(\"resize\", this._updateDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this._updateDimensions);\n  }\n\n  _updateDimensions() {\n    if (window.innerWidth < 1023) {\n      this.setState({\n        wheelValue: 140\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    const station = this.props.match.params.station;\n\n    if (this.state.station !== station) {\n      this._windowOpener(station);\n    }\n  }\n\n  _windowOpener(station) {\n    this.setState({\n      station: station,\n      imgShow: !this.state.imgShow\n    });\n  }\n\n  render() {\n    const {\n      data,\n      wheelValue,\n      imgShow,\n      station\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IknowButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TransformWrapper, {\n      defaultScale: 1,\n      wheel: {\n        step: wheelValue\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, ({\n      resetTransform,\n      ...rest\n    }) => /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TransformComponent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SvgContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Map, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }))))), /*#__PURE__*/React.createElement(Window, {\n      data: data,\n      show: imgShow,\n      station: station,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Output, {\n      imgShow: imgShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default withRouter(SeoulMap);","map":{"version":3,"sources":["/Users/user/Documents/GitHub/ourViewSeoul/src/App/SeoulMap.js"],"names":["React","PureComponent","Map","TransformWrapper","TransformComponent","styled","Window","IknowButton","Output","csv","csvCor","Route","withRouter","SvgContainer","div","SeoulMap","constructor","props","state","data","imgShow","wheelValue","station","_updateDimensions","bind","componentDidMount","then","setState","window","addEventListener","componentWillUnmount","removeEventListener","innerWidth","componentDidUpdate","match","params","_windowOpener","render","step","resetTransform","rest"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport Map from './_Map.jsx';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport styled from 'styled-components';\nimport Window from './Window';\nimport IknowButton from './IknowButton';\nimport Output from './Output';\nimport { csv } from 'd3';\nimport csvCor from '../data/seoul.csv';\nimport { Route, withRouter } from 'react-router-dom'\n\nconst SvgContainer = styled.div`\n    display: inline-block;\n    position: relative;\n    width: 50vw;\n    height: 50vh;\n    margin-top: 10vh;\n    margin-bottom: 40vh;\n\n    @media all and (min-width:0px) and (max-width:1023px) {\n        display: inline-block;\n        position: relative;\n        width: 100vw;\n        height: 50vh;\n        margin-top: 20vh;\n        margin-bottom: 30vh;\n        max-width:100%;\n    }\n`;\n\nclass SeoulMap extends PureComponent {\n    constructor(props){\n        super(props);\n        this.state = {\n            data : [],\n            imgShow : false,\n            wheelValue : 2,\n            station : ':station',\n        }\n        this._updateDimensions = this._updateDimensions.bind(this);\n    }\n    \n    componentDidMount() {\n        csv(csvCor).then( (data) => {\n            this.setState( {data} )\n        })\n        this._updateDimensions();\n        window.addEventListener(\"resize\", this._updateDimensions);\n    }\n    componentWillUnmount() {\n        window.removeEventListener(\"resize\", this._updateDimensions);\n    }\n    _updateDimensions() {\n        if(window.innerWidth < 1023) {\n          this.setState({ wheelValue : 140 });\n        } \n    }\n\n    componentDidUpdate() {\n        const station = this.props.match.params.station;\n\n        if (this.state.station !== station) {\n            this._windowOpener(station)\n        } \n    }\n\n    _windowOpener(station) {\n        this.setState({station: station, imgShow: !this.state.imgShow} )\n    }\n    render() { \n        const { data, wheelValue, imgShow, station } = this.state;\n\n        return (\n            <>\n            <IknowButton />\n            <TransformWrapper \n                defaultScale={1}\n                wheel={{\n                    step: wheelValue,\n                }}\n            >\n                {({ resetTransform, ...rest }) => (\n                <React.Fragment>\n                    <TransformComponent>\n                        <SvgContainer>\n                            <Map />\n                        </SvgContainer>\n                    </TransformComponent>\n                </React.Fragment>\n                )}\n            </TransformWrapper>\n            <Window data={data} show={imgShow} station={station}/>\n            <Output imgShow={imgShow}/>\n            </>\n        )\n    }\n}\n\nexport default withRouter(SeoulMap);   "]},"metadata":{},"sourceType":"module"}